<!DOCTYPE html>
<html lang="ja">
<head>
<meta name="description" content="鉄道写真・列車撮影用のシャッタースピード計算ツール。カメラ機種の横ピクセル数から最適シャッター速度を自動計算できます。Canon・Nikon・Sony対応。">
<meta name="keywords" content="シャッタースピード計算, 鉄道写真, 撮り鉄, カメラ計算, 列車撮影, ピクセル計算">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>鉄道写真シャッタースピード計算ツール｜列車撮影・カメラ横ピクセル対応</title>

<style>
body{
  font-family: sans-serif;
  max-width: 600px;
  margin: 0 auto;
  padding: 20px 16px;
  line-height: 1.8;
  font-size: 17px;
}

h2{
  font-size: 20px;
  margin-bottom: 18px;
}

.section{
  background:#f6f6f6;
  border-radius:12px;
  padding:14px;
  margin-bottom:20px;
}

input, select{
  width:100%;
  font-size:18px;
  padding:10px;
  margin-top:6px;
  margin-bottom:14px;
  box-sizing:border-box;
}

button{
  width:100%;
  font-size:20px;
  padding:14px;
  border-radius:10px;
}

.result{
  color:#e60000;
  margin-top:20px;
  font-size:22px;
  font-weight:bold;
}

.note{
  margin-top:14px;
  font-size:13px;
  color:#666;
}

.inlineCheck{
  display:flex;
  align-items:center;
  gap:8px;
  font-size:14px;
  margin-top:-6px;
  margin-bottom:14px;
}
.inlineCheck input{
  width:auto;
  margin:0;
}
</style>
</head>

<body>

<h2>鉄道写真シャッタースピード計算サイト</h2>

<div class="section">

  メーカー
  <select id="brand"></select>

  機種
  <select id="model"></select>

  カメラの横ピクセル数(px)
  <input id="pixel" type="number">

  <label class="inlineCheck">
    <input type="checkbox" id="manual">
    ピクセル数を手動入力する
  </label>

</div>

列車速度(km/h)
<input id="speed" type="number">

画角の横幅(m)
<input id="width" type="number" step="0.1">

<button onclick="calc()">計算する</button>

<div class="result" id="result"></div>

<div class="note">
  ※列車が真横に移動して被写体ブレをしない（=1px以内）理論値<br>
作者X：
<a href="https://x.com/jo_taku150?s=21" target="_blank">@jo_taku150</a>
（px数誤りなど、お気づきの点はXまで）
</div>

<script>
/* ===============================
   ✅ 修正版カメラデータ
=============================== */

const cameraData = {

  Canon: {
    "EOS R1 / R3": 6000,
    "EOS R5 / R5 Mark II": 8192,
    "EOS R6": 6000,
    "EOS R6 Mark II": 6000,
    "EOS R6 Mark III": 6960,
    "EOS R7 (APS-C)": 6960,
    "EOS R8": 6000,
    "EOS R10 (APS-C)": 6000,
    "EOS R50 (APS-C)": 6000,
    "EOS RP": 6240,               /* ← ★追加 */
    "EOS-1D X Mark III": 5472,
    "EOS 5D Mark IV": 6720,
    "EOS 6D Mark II": 6240,
    "EOS 90D": 6960
  },

  Nikon: {
    "Z9 / Z8 / Z7 II": 8256,
    "Z6 III / Z6 II / Z5 II": 6048,
    "Z5": 6016,
    "Z50 II / Z50 / Z fc (APS-C)": 5568, /* ← ★追加 */
    "D6": 5568,
    "D850": 8256,
    "D780": 6048,
    "D610": 6016,
    "D500 (APS-C)": 5568,
    "D7500 (APS-C)": 5568,
    "D7000 (APS-C)": 4928,
    "D5600 (APS-C)": 6000
  },

  SONY: {
    "α1 / α1 II": 8640,
    "α9 III / α9 II": 6000,
    "α7R V / α7R IV / α7CR": 9504,
    "α7 IV / α7C II": 7008,
    "α7 III": 6000,
    "α7S III": 4240,
    "α6700 (APS-C)": 6192,
    "α6600 / α6400 (APS-C)": 6000
  }
};


/* ===== 以降ロジック同じ ===== */

const brandSel = document.getElementById("brand");
const modelSel = document.getElementById("model");
const pixelInput = document.getElementById("pixel");
const manual = document.getElementById("manual");
const speed = document.getElementById("speed");
const widthInput = document.getElementById("width");
const result = document.getElementById("result");

Object.keys(cameraData).forEach(b=>{
  brandSel.add(new Option(b,b));
});

function updateModels(){
  modelSel.innerHTML="";
  Object.entries(cameraData[brandSel.value]).forEach(([n,px])=>{
    const o=new Option(n,n);
    o.dataset.px=px;
    modelSel.add(o);
  });
  updatePixel();
}

function updatePixel(){
  if(!manual.checked)
    pixelInput.value=modelSel.selectedOptions[0].dataset.px;
}

brandSel.onchange=updateModels;
modelSel.onchange=updatePixel;
manual.onchange=()=>{
  pixelInput.disabled=!manual.checked;
  updatePixel();
};

updateModels();

function calc(){
  const kmh=Number(speed.value);
  const w=Number(widthInput.value);
  const px=Number(pixelInput.value);

  const speedms=kmh/3.6;
  const time=w/speedms;
  const shutter=px/time;

  const rounded=Math.round(shutter/100)*100;
  result.textContent=`シャッタースピード： 1/${rounded} 秒`;
}
</script>

</body>
</html>
